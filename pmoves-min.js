function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function moveshow(e,t,n,i){var o=document.getElementById("move_card"+t),d=o.getContext("2d"),s=new Image;s.src=frame_array[e+"_"+t],s.onload=function(){d.drawImage(s,0,0,o.width,o.height)},document.getElementById("Link"+t).style.display="block",move_count_val==n&&(Total_Moves++,ga("movenseTracker.send",{hitType:"event",eventCategory:i+"_"+PageUrl,eventAction:"move_count",eventLabel:IpAddress}),move_count_val=1),move_count_val++}function fetchMove(e,t,n){"2"==n&&y.abort();var i=1,o=0,d=document.createElement("canvas"),s=document.createElement("div"),r=document.createElement("div"),l=document.getElementById(t),m=document.createElement("div"),a=document.createElement("IMG"),c=document.createElement("IMG"),v=document.createElement("IMG"),u=document.createElement("a"),g=document.createElement("p");document.getElementById(t).style.position="relative",u.setAttribute("id","Link"+t),r.setAttribute("id","myProgress"+t),r.setAttribute("style","z-index=10;position: absolute;width: 100%;background-color: white;"),g.setAttribute("id","ttext"+t),g.setAttribute("style","z-index=10;position: absolute;width: 100%; top: -5px;"),s.setAttribute("id","myBar"+t),m.setAttribute("id","myProgressGif"+t),d.setAttribute("id","move_card"+t),d.setAttribute("style","cursor:pointer;"),d.width=540,d.height=960,global_movedivval=t,a.setAttribute("src","https://www.movense.com/publisher/icons/dots.gif"),a.setAttribute("width","42"),a.setAttribute("height","42"),a.setAttribute("alt","Loading..."),c.setAttribute("src","https://www.movense.com/publisher/icons/shopping-bag.png"),c.setAttribute("width","37"),c.setAttribute("height","30"),c.setAttribute("id","icon_link"+t),c.setAttribute("style","position: absolute; top:101.8%;margin-left:-30%;"),v.setAttribute("src","https://www.movense.com/motion/img/singlepost_tut_hand.png"),v.setAttribute("id","tut_hand"),v.setAttribute("style","height: 50px; width: 50px; position: absolute; z-index:11; top: 85%;animation: tut_animate 2.5s infinite;"),u.setAttribute("style","top: 100.5%;padding:10px 0px 5px 0px;color: white;font-weight: 400;font-family: Helvetica, Arial, sans-serif;font-size:20px;border-radius: 3px;text-align: center;"),r.appendChild(s),m.appendChild(a),l.appendChild(r),l.appendChild(m),s.setAttribute("style","width:1%;height: 2px;background-color: red;"),m.setAttribute("style","z-index=10;margin-top:70px;position: absolute;horizontal-align:center;"),document.getElementById("myProgressGif"+t).style.display="none",document.getElementById("myProgress"+t).style.display="none",l.appendChild(g),move_location[t]=e,Pid=move_location[t].split("/")[move_location[t].split("/").length-1].split("_")[1].split(".")[0],ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"function_start",eventLabel:IpAddress});var p=document.getElementById("myBar"+t),h=1,y=new XMLHttpRequest;y.onprogress=function(){frame_array[i+"_"+t]=new Image;var s=this.responseText;for(new Image;s.indexOf(":"+i+"}")>-1;){var r=":"+i+"}",m=s.indexOf(":"+i+"}"),a=s.indexOf(i+"!@#$%^&*"),v=s.substring(a-2,m+r.length),g=JSON.parse(v);if(o=g.imagecount,void 0!=g.frame){if(frame_array[i+"_"+t]="data:image/jpeg;base64,"+g.frame,0!=g.progress?(document.getElementById("myProgress"+t).style.display="block",h>=100||(h++,p.style.width=g.progress+"%")):(document.getElementById("myProgress"+t).style.display="none",document.getElementById("myProgressGif"+t).style.display="block",document.getElementById("myProgressGif"+t).style.marginLeft="40%"),2>i){var y=e.split("/")[e.split("/").length-1].split("_")[1].split(".")[0];Interaction(t,o,n,y),countDiv.push(t+"-"+o+"-"+n),countDiv[t+"-"+o+"-"+n]=new Array,countDiv[t+"-"+o+"-"+n].push(!1),d.setAttribute("onmousemove","mousemove(event,'"+t+"','"+o+"','"+n+"','"+y+"')"),l.appendChild(d),l.appendChild(c),l.appendChild(u),null==g.button_text||"null"==g.button_text||"0"==g.button_text?(document.getElementById("Link"+t).style.display="none",document.getElementById("icon_link"+t).style.display="none",is_but=0):(document.getElementById("Link"+t).target="_blank",document.getElementById("Link"+t).style.display="block",document.getElementById("Link"+t).style.textDecoration="none",document.getElementById("Link"+t).href=g.button_link,document.getElementById("Link"+t).style.background=g.button_color,document.getElementById("Link"+t).innerHTML=g.button_text,document.getElementById("Link"+t).style.fontFamily="Trebuchet MS",document.getElementById("Link"+t).style.fontWeight="600"),moveshow(i,t,o,y),Start_Time=(new Date).getTime(),1==is_but&&(document.getElementById("move_card"+t).onclick=function(){ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"div_clicks",eventLabel:IpAddress}),window.open(document.getElementById("Link"+t).href,"_blank")},document.getElementById("Link"+t).onclick=function(){ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"button_clicks",eventLabel:IpAddress}),window.open(document.getElementById("Link"+t).href,"_blank")}),2==g.Orientation&&(600>=window_width||600>=window_height)?window_width>window_height?(document.getElementById(t).style.width=.65*window_width+"px",document.getElementById(t).style.height=window_height/1.5+"px",document.getElementById("move_card"+t).style.width=.65*window_width+"px",document.getElementById("move_card"+t).style.height=window_height/1.5+"px"):(document.getElementById(t).style.width=.95*window_width+"px",document.getElementById(t).style.height=window_height/3+"px",document.getElementById("move_card"+t).style.width=.95*window_width+"px",document.getElementById("move_card"+t).style.height=window_height/3+"px"):2==g.Orientation?(document.getElementById(t).style.width="600px",document.getElementById(t).style.height="335px",document.getElementById("move_card"+t).style.width="600px",document.getElementById("move_card"+t).style.height="335px"):(document.getElementById(t).style.width="300px",document.getElementById(t).style.height="480px",document.getElementById("move_card"+t).style.width="300px",document.getElementById("move_card"+t).style.height="480px",document.getElementById("Link"+t).style.width=document.getElementById("move_card"+t).style.width),isElementInViewport(document.getElementById(t))&&(Pid=move_location[t].split("/")[move_location[t].split("/").length-1].split("_")[1].split(".")[0],console.log(Pid+"_"+PageUrl),ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"move_views",eventLabel:IpAddress}),countDiv[t+"-"+o+"-"+n][0]=isElementInViewport(document.getElementById(t)))}fend[t]=i,v=null,g=null}i++}},y.onload=function(){document.getElementById("myProgress"+t).style.display="none",document.getElementById("myProgressGif"+t).style.display="none"},y.onreadystatechange=function(){4==this.readyState&&200==this.status&&ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"load_end",eventLabel:IpAddress})},y.onerror=function(){ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"fail_load",eventLabel:IpAddress})},y.open("GET","https://www.movense.com/fetch/v1/getFrame.php?url="+move_location[t]+"&div="+t,!0),y.withCredentials=!0,y.send()}function mousemove(e,t,n,i,o){direction[1]=e.clientX,dx=direction[1]-direction[0],0>dx&&(dx=-1*dx),100>dx&&(v=7),50>dx&&(v=5),30>dx&&(v=3),15>dx&&(v=2),5>dx&&(v=1),direction[1]-direction[0]>0?(mv+=v,mv>=fend[t]-1?mv=fend[t]+1==n&&"0"==i?1:fend[t]-1:moveshow(""+mv,t,n,o)):direction[1]-direction[0]<0?(mv-=v,0>=mv?mv=fend[t]+1==n&&"0"==i?fend[t]-1:1:moveshow(""+mv,t,n,o)):dv="none",direction[0]=direction[1]}function Interaction(e,t,n,i){var o=document.getElementById(e),d=0;o.addEventListener("touchmove",function(o){var s=o.changedTouches[0];direction[1]=parseInt(s.clientX)-d,dx=direction[1]-direction[0],0>dx&&(dx=-1*dx),100>dx&&(v=7),50>dx&&(v=5),30>dx&&(v=3),15>dx&&(v=2),5>dx&&(v=1),direction[1]-direction[0]>0?(mv+=v,mv>=fend[e]-1?mv=fend[e]+1==t&&"0"==n?1:fend[e]-1:moveshow(""+mv,e,t,i)):direction[1]-direction[0]<0&&(mv-=v,0>=mv?mv=fend[e]+1==t&&"0"==n?fend[e]-1:1:moveshow(""+mv,e,t,i)),direction[0]=direction[1],o.preventDefault()},!1)}function deviceOrientationgamma(e){countDiv.forEach(function(t){if(isElementInViewport(document.getElementById(t.split("-")[0]))&&1==countDiv[t][0]){var n=move_location[t.split("-")[0]].split("/")[move_location[t.split("-")[0]].split("/").length-1].split("_")[1].split(".")[0],i=t.split("-");rot[1]=Math.round(e.gamma),rot[1]-rot[0]>0?(mva+=1,mva>=fend[i[0]]-1?mva=fend[i[0]]+1==i[1]&&"0"==i[2]?1:fend[i[0]]-1:moveshow(""+mva,i[0],i[1],n)):rot[1]-rot[0]<0&&(mva-=1,0>=mva?mva=fend[i[0]]+1==i[1]&&"0"==i[2]?fend[i[0]]-1:1:moveshow(""+mva,i[0],i[1],n)),rot[0]=rot[1]}})}!function(e,t,n,i,o,d,s){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,d=t.createElement(n),s=t.getElementsByTagName(n)[0],d.async=1,d.src=i,s.parentNode.insertBefore(d,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-54222692-1","auto","movenseTracker"),ga("movenseTracker.send","pageview");var IpAddress="",xhttpIpAddress=new XMLHttpRequest;xhttpIpAddress.onreadystatechange=function(){4==this.readyState&&200==this.status&&(IpAddress=JSON.parse(this.responseText).ip)},xhttpIpAddress.open("GET","https://freegeoip.net/json/",!1),xhttpIpAddress.send();var active="",window_width=window.innerWidth,window_height=window.innerHeight,wsize,hsize=0,bs_w=.26,bs_h=.9,ms_w=.34,ms_h=.9,ss_w=.85,ss_h=.9;600>window_width?(wsize=ss_w,hsize=ss_h):1e3>window_width&&window_width>600?(wsize=ms_w,hsize=ms_h):(wsize=bs_w,hsize=bs_h);var is_but=1,frame_array=new Array,move_location=new Array,direction=new Array;direction[0]=0,direction[1]=0;var dv="none",mv=1,rot=new Array;rot[0]=0,rot[1]=0;var mva=0,fend=new Array,move_count_val=1,Total_Moves=0,Pid="",PageUrl=window.location.href.split("//")[1].split("/")[0],fired=0,temp="",count=0,Start_Time,End_Time,xhr,global_movedivval="",countDiv=new Array;window.onbeforeunload=function(){End_Time=(new Date).getTime();var e=Math.round((End_Time-Start_Time)/1e3);ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"session_duration",eventLabel:IpAddress+"_"+e})};var dx,v=0;window.addEventListener("deviceorientation",deviceOrientationgamma),window.onscroll=function(e){countDiv.forEach(function(e){isElementInViewport(document.getElementById(e.split("-")[0]))&&(1==countDiv[e][0]||(countDiv[e][0]=isElementInViewport(document.getElementById(e.split("-")[0])),Pid=move_location[e.split("-")[0]].split("/")[move_location[e.split("-")[0]].split("/").length-1].split("_")[1].split(".")[0],ga("movenseTracker.send",{hitType:"event",eventCategory:Pid+"_"+PageUrl,eventAction:"move_views",eventLabel:IpAddress}),console.log(Pid+"_"+PageUrl)))})};
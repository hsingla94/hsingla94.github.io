(function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-54222692-1','auto','movenseTracker');ga('movenseTracker.send','pageview');var IpAddress="";var xhttpIpAddress=new XMLHttpRequest();xhttpIpAddress.onreadystatechange=function(){if(this.readyState==4&&this.status==200){IpAddress=JSON.parse(this.responseText).ip}};xhttpIpAddress.open("GET","https://freegeoip.net/json/",!1);xhttpIpAddress.send();var active="";function dim(orientation){var finalwidth="";var finalheight="";if((window_width<=600)||(window_height<=600)){if(window_width>window_height){if(orientation==1){finalwidth="300px";finalheight="480px"}else if(orientation==2){finalwidth=0.65*(window_width)+"px";finalheight=(window_height/1.5)+"px"}else if(orientation==3){finalwidth="400px";finalheight="400px"}}else{if(orientation==1){finalwidth="300px";finalheight="480px"}else if(orientation==2){finalwidth=0.95*(window_width)+"px";finalheight=(window_height/3)+"px"}else if(orientation==3){finalwidth=0.90*(window_width)+"px";finalheight=finalwidth}}}else{if(orientation==1){finalwidth="300px";finalheight="480px"}else if(orientation==2){finalwidth="600px";finalheight="335px"}else if(orientation==3){finalwidth="300px";finalheight=finalwidth}}
return finalwidth+"-"+finalheight}
function handleScroll(evt){var canvas=document.getElementById(this.id);var ctx=canvas.getContext("2d");var delta=evt.wheelDelta?evt.wheelDelta/40:evt.detail?-evt.detail:0;if(delta>0){canvas.style.transform="scale(1.5)";canvas.style.transition="transform .8s";canvas.style.transformOrigin=evt.layerX+"px "+evt.layerY+"px"}else{canvas.style.transform="scale(1)";canvas.style.transition="transform .8s";canvas.style.transformOrigin=evt.layerX+"px "+evt.layerY+"px"}
return evt.preventDefault()&&!1};function isElementInViewport(el){var rect=el.getBoundingClientRect();return(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth))}
var window_width=window.innerWidth;var window_height=window.innerHeight;var wsize,hsize=0;var bs_w=0.26,bs_h=0.9;var ms_w=0.34,ms_h=0.9;var ss_w=0.85,ss_h=0.9;if(window_width<600){wsize=ss_w;hsize=ss_h}else if(window_width<1000&&window_width>600){wsize=ms_w;hsize=ms_h}else{wsize=bs_w;hsize=bs_h}
var is_but=1;var frame_array=new Array();var move_location=new Array();var direction=new Array();direction[0]=0;direction[1]=0;var dv="none";var mv=1;var rot=new Array();rot[0]=0;rot[1]=0;var mva=0;var fend=new Array();var move_count_val=1;var Total_Moves=0;var Pid="";var PageUrl=(window.location.href).split("//")[1].split("/")[0];var fired=0,temp="",count=0;var Start_Time,End_Time;var xhr;var global_movedivval="";var countDiv=new Array();window.onbeforeunload=function(){End_Time=new Date().getTime();var duration=Math.round((End_Time-Start_Time)/1000);ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'session_duration',eventLabel:IpAddress+"_"+duration})}
function moveshow(movefval,val,icount,pid){var canvas=document.getElementById("move_card"+val);var can=canvas.getContext("2d");can.imageSmoothingQuality="medium";can.mozImageSmoothingEnabled=!0;can.webkitImageSmoothingEnabled=!0;can.msImageSmoothingEnabled=!0;can.imageSmoothingEnabled=!0;var cimage=new Image();cimage.src=frame_array[movefval+"_"+val];cimage.onload=function(){can.drawImage(cimage,0,0,canvas.width,canvas.height)}
document.getElementById("Link"+val).style.display="block";if(move_count_val==(icount)){Total_Moves++;ga('movenseTracker.send',{hitType:'event',eventCategory:pid+"_"+PageUrl,eventAction:'move_count',eventLabel:IpAddress});move_count_val=1;var xhr=new XMLHttpRequest();xhr.open("POST",'https://www.movense.com/publisher/web/movecountcheck.php',!0);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.send("ea="+pid+"_"+PageUrl+"&mcount=1")}
move_count_val++}
function fetchMove(ml,DivId,Role,mwidth='0',mheight='0'){if(Role=="2"){xmlhttp.abort()}
var fno=1;var ic=0;var canvas=document.createElement("canvas");var mybar=document.createElement("div");var myProgress=document.createElement("div");var movediv=document.getElementById(DivId);var myProgressGif=document.createElement("div");var img=document.createElement("IMG");var icon=document.createElement("IMG");var tut=document.createElement("IMG");var pub_button=document.createElement("a");var tut_text=document.createElement("p");document.getElementById(DivId).style.position="relative";document.getElementById(DivId).style.overflow="hidden";pub_button.setAttribute('id','Link'+DivId);myProgress.setAttribute('id',"myProgress"+DivId);myProgress.setAttribute('style',"z-index=10;position: absolute;width: 100%;background-color: white;");tut_text.setAttribute('id',"ttext"+DivId);tut_text.setAttribute('style',"z-index=10;width: 100%; margin-top: 0px; font-size:17px;height:3px; text-align:center; font-weight: 500;");mybar.setAttribute('id',"myBar"+DivId);myProgressGif.setAttribute('id',"myProgressGif"+DivId);canvas.width=1280;canvas.height=720;canvas.setAttribute('id',"move_card"+DivId);canvas.setAttribute("style","cursor:pointer;width:600px;height:335px;");global_movedivval=DivId;img.setAttribute("src","https://www.movense.com/publisher/icons/dots.gif");img.setAttribute("width","42");img.setAttribute("height","42");img.setAttribute("alt","Loading...");icon.setAttribute("src","https://www.movense.com/publisher/icons/shopping-bag.png");icon.setAttribute("width","37");icon.setAttribute("height","30");icon.setAttribute('id','icon_link'+DivId);icon.setAttribute("style","position: absolute; top:101.8%;margin-left:-30%;");tut.setAttribute("src","https://www.movense.com/motion/img/singlepost_tut_hand.png");tut.setAttribute("id","tut_hand");tut.setAttribute("style","height: 50px; width: 50px; position: absolute; z-index:11; top: 85%;animation: tut_animate 2.5s infinite;");pub_button.setAttribute("style","top: 100.5%;padding:10px 0px 5px 0px;color: white;font-weight: 400;font-family: Helvetica, Arial, sans-serif;font-size:20px;border-radius: 3px;text-align: center;");movediv.appendChild(tut_text);myProgress.appendChild(mybar);myProgressGif.appendChild(img);movediv.appendChild(myProgress);movediv.appendChild(myProgressGif);mybar.setAttribute("style","width:1%;height: 2px;background-color: red;");myProgressGif.setAttribute("style","z-index=10;margin-top:70px;position: absolute;horizontal-align:center;");document.getElementById("myProgressGif"+DivId).style.display="none";document.getElementById("myProgress"+DivId).style.display="none";document.getElementById("ttext"+DivId).innerHTML="Swipe Horizontally to view 360 spin";move_location[DivId]=ml;Pid=move_location[DivId].split("/")[move_location[DivId].split("/").length-1].split("_")[1].split(".")[0];ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'function_start',eventLabel:IpAddress});var lastResponseLength=!1;var i=1;var elem=document.getElementById("myBar"+DivId);var width=1;var x=0;var y=0;var xmlhttp=new XMLHttpRequest();xmlhttp.onprogress=function(){frame_array[fno+"_"+DivId]=new Image();var progressResponse;var response=this.responseText;var cimage=new Image();var isloop=!0;while((response.indexOf(":"+fno+"}")>-1)){var temp=":"+fno+"}";var i=response.indexOf(":"+fno+"}");var j=response.indexOf(fno+"!@#$%^&*");var finalresponse=response.substring(j-2,i+temp.length);var parsedResponse=JSON.parse(finalresponse);ic=parsedResponse.imagecount;if(parsedResponse.frame!=undefined){frame_array[fno+"_"+DivId]="data:image/jpeg;base64,"+parsedResponse.frame;if((parsedResponse.progress)!=0){document.getElementById("myProgress"+DivId).style.display="block";if(width>=100){}else{width++;elem.style.width=parsedResponse.progress+'%'}}else{document.getElementById("myProgress"+DivId).style.display="none";document.getElementById("myProgressGif"+DivId).style.display="block";document.getElementById("myProgressGif"+DivId).style.marginLeft="40%"}
if(fno<2){var pidvalue=ml.split("/")[ml.split("/").length-1].split("_")[1].split(".")[0];Interaction(DivId,ic,Role,pidvalue);countDiv.push(DivId+"-"+ic+"-"+Role);countDiv[DivId+"-"+ic+"-"+Role]=new Array();countDiv[DivId+"-"+ic+"-"+Role].push(!1);canvas.setAttribute("onmousemove","mousemove(event,'"+DivId+"','"+ic+"','"+Role+"','"+pidvalue+"')");movediv.appendChild(canvas);movediv.appendChild(icon);movediv.appendChild(pub_button);document.getElementById("move_card"+DivId).addEventListener('mousewheel',handleScroll,!1);if(parsedResponse.button_text==null||parsedResponse.button_text=="null"||parsedResponse.button_text=='0'){document.getElementById('Link'+DivId).style.display="none";document.getElementById('icon_link'+DivId).style.display="none";is_but=0}else{document.getElementById('Link'+DivId).target="_blank";document.getElementById('Link'+DivId).style.display="block";document.getElementById('Link'+DivId).style.textDecoration="none";document.getElementById('Link'+DivId).href=parsedResponse.button_link;document.getElementById('Link'+DivId).style.background=parsedResponse.button_color;document.getElementById('Link'+DivId).innerHTML=parsedResponse.button_text;document.getElementById('Link'+DivId).style.fontFamily="Trebuchet MS";document.getElementById('Link'+DivId).style.fontWeight="600"}
moveshow(fno,DivId,ic,pidvalue);Start_Time=new Date().getTime();if(is_but==1){document.getElementById("move_card"+DivId).onclick=function(){ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'div_clicks',eventLabel:IpAddress});window.open(document.getElementById('Link'+DivId).href,"_blank")}
document.getElementById("Link"+DivId).onclick=function(){ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'button_clicks',eventLabel:IpAddress});window.open(document.getElementById('Link'+DivId).href,"_blank")}}
var wandh="";if((mwidth=="0")&&(mheight=="0")){wandh=dim(parsedResponse.Orientation).split("-")}else{if(mwidth.search("px")<0){mwidth=mwidth+"px"}
if(mheight.search("px")<0){mheight=mheight+"px"}
wandh=(mwidth+"-"+mheight).split("-")}
document.getElementById(DivId).style.width=wandh[0];document.getElementById(DivId).style.height=(parseInt(wandh[1].replace(/px/,""))+20)+"px";document.getElementById("move_card"+DivId).style.width=wandh[0];document.getElementById("move_card"+DivId).style.height=wandh[1];if(isElementInViewport(document.getElementById(DivId))){Pid=move_location[DivId].split("/")[move_location[DivId].split("/").length-1].split("_")[1].split(".")[0];ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'move_views',eventLabel:IpAddress});countDiv[DivId+"-"+ic+"-"+Role][0]=isElementInViewport(document.getElementById(DivId))}}
fend[DivId]=fno;finalresponse=null;parsedResponse=null}
fno++}};xmlhttp.onload=function(){document.getElementById("myProgress"+DivId).style.display="none";document.getElementById("myProgressGif"+DivId).style.display="none"};xmlhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'load_end',eventLabel:IpAddress})}};xmlhttp.onerror=function(){ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'fail_load',eventLabel:IpAddress})};xmlhttp.open("GET","https://www.movense.com/fetch/v1/getFrame.php?url="+move_location[DivId]+"&div="+DivId,!0);xmlhttp.withCredentials=!0;xmlhttp.send()}
var dx,v=0;function mousemove(e,getDivId,icount,Role,pid){direction[1]=e.clientX;dx=direction[1]-direction[0];if(dx<0){dx=dx*-1}
if(dx<100){v=7}
if(dx<50){v=5}
if(dx<30){v=3}
if(dx<15){v=2}
if(dx<5){v=1}
if((direction[1]-direction[0])>0){mv=mv+v;if(mv>=(fend[getDivId]-1)){if(((fend[getDivId])==icount)&&Role=="0"){mv=1}else{mv=fend[getDivId]-1}}else{moveshow(""+mv,getDivId,icount,pid)}}else if((direction[1]-direction[0])<0){mv=mv-v;if(mv<=0){if(((fend[getDivId])==icount)&&Role=="0"){mv=fend[getDivId]-1}else{mv=1}}else{moveshow(""+mv,getDivId,icount,pid)}}else{dv="none"}
direction[0]=direction[1]}
function Interaction(getDivId,icount,Role,pidvalue){var movecard=document.getElementById(getDivId);var startx=0;var dist=0;movecard.addEventListener('touchmove',function(e){var touchobj=e.changedTouches[0];direction[1]=parseInt(touchobj.clientX)-startx;dx=direction[1]-direction[0];if(dx<0){dx=dx*-1}
if(dx<100){v=7}
if(dx<50){v=5}
if(dx<30){v=3}
if(dx<15){v=2}
if(dx<5){v=1}
if((direction[1]-direction[0])>0){mv=mv+v;if(mv>=(fend[getDivId]-1)){if(((fend[getDivId])==icount)&&Role=="0"){mv=1}else{mv=fend[getDivId]-1}}else{moveshow(""+mv,getDivId,icount,pidvalue)}}else if((direction[1]-direction[0])<0){mv=mv-v;if(mv<=0){if(((fend[getDivId])==icount)&&Role=="0"){mv=fend[getDivId]-1}else{mv=1}}else{moveshow(""+mv,getDivId,icount,pidvalue)}}
direction[0]=direction[1];e.preventDefault()},!1)}
function deviceOrientationgamma(event){countDiv.forEach(function(Div){if(isElementInViewport(document.getElementById(Div.split("-")[0]))){if(countDiv[Div][0]==!0){var p=move_location[Div.split("-")[0]].split("/")[move_location[Div.split("-")[0]].split("/").length-1].split("_")[1].split(".")[0];var data=Div.split("-");rot[1]=Math.round(event.gamma);if((rot[1]-rot[0])>0){mva+=1;if(mva>=(fend[data[0]]-1)){if(((fend[data[0]]+1)==data[1])&&data[2]=="0"){mva=1}else{mva=fend[data[0]]-1}}else{moveshow(""+mva,data[0],data[1],p)}}else if((rot[1]-rot[0])<0){mva-=1;if(mva<=0){if(((fend[data[0]]+1)==data[1])&&data[2]=="0"){mva=fend[data[0]]-1}else{mva=1}}else{moveshow(""+mva,data[0],data[1],p)}}
rot[0]=rot[1]}}})}
window.addEventListener("deviceorientation",deviceOrientationgamma);window.onscroll=function(e){countDiv.forEach(function(Div){if(isElementInViewport(document.getElementById(Div.split("-")[0]))){if(countDiv[Div][0]==!0){}else{console.log("scrolled");countDiv[Div][0]=isElementInViewport(document.getElementById(Div.split("-")[0]));Pid=move_location[Div.split("-")[0]].split("/")[move_location[Div.split("-")[0]].split("/").length-1].split("_")[1].split(".")[0];ga('movenseTracker.send',{hitType:'event',eventCategory:Pid+"_"+PageUrl,eventAction:'move_views',eventLabel:IpAddress})}}})}
